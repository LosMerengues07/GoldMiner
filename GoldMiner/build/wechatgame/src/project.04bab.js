window.__require=function o(t,e,n){function i(a,c){if(!e[a]){if(!t[a]){var h=a.split("/");if(h=h[h.length-1],!t[h]){var r="function"==typeof __require&&__require;if(!c&&r)return r(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+a+"'")}}var l=e[a]={exports:{}};t[a][0].call(l.exports,function(o){return i(t[a][1][o]||o)},l,l.exports,o,t,e,n)}return e[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({background:[function(o,t,e){"use strict";cc._RF.push(t,"4f1857SKBpE6KiP5vfRCu09","background"),cc.Class({extends:cc.Component,properties:{hook:cc.Node},onTouchStart:function(o){this.hook.getComponent("hook").down=!0},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)}}),cc._RF.pop()},{}],fire1:[function(o,t,e){"use strict";cc._RF.push(t,"c3d89e4p49CBbTozCCRCLeI","fire1"),cc.Class({extends:cc.Component,properties:{hook:cc.Node,num:null,audio:{default:null,type:cc.AudioClip},count:cc.Label},onTouchStart:function(o){if(2===this.hook.getComponent("hook").flag&&this.num>0){var t=this.hook.getComponent("hook").item;t&&!t.getComponent("items").bombing&&(1===Global.sound&&cc.audioEngine.play(this.audio,!1,1),"bigRock"===t._name||"midRock"===t._name||"smallRock"===t._name?(t.getComponent("items").animationComponent.play("rockbomb"),t.getComponent("items").bombing=!0):"bigGold"===t._name||"midGold"===t._name||"smallGold"===t._name?(t.getComponent("items").animationComponent.play("goldbomb"),t.getComponent("items").bombing=!0):"pocket"===t._name?(t.getComponent("items").animationComponent.play("pocketbomb"),t.getComponent("items").bombing=!0):"diamond"===t._name?(t.getComponent("items").animationComponent.play("diamondbomb"),t.getComponent("items").bombing=!0):"fireworks"===t._name?(t.getComponent("items").animationComponent.play("fireworksbomb"),t.getComponent("items").bombing=!0):"treasure"===t._name?(t.getComponent("items").animationComponent.play("treasurebomb"),t.getComponent("items").bombing=!0):"pig"===t._name?t.getComponent("items").toRight?(t.getComponent("items").animationComponent.play("pigbombR"),t.getComponent("items").bombing=!0):(t.getComponent("items").animationComponent.play("pigbomb"),t.getComponent("items").bombing=!0):"diamondPig"===t._name&&(t.getComponent("items").toRight?(t.getComponent("items").animationComponent.play("diamondPigbombR"),t.getComponent("items").bombing=!0):(t.getComponent("items").animationComponent.play("diamondPigbomb"),t.getComponent("items").bombing=!0)),this.num-=1)}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.num=Global.fires},update:function(o){this.count.string="x"+this.num}}),cc._RF.pop()},{}],game:[function(o,t,e){"use strict";cc._RF.push(t,"c885eGD3NNFHJbBq7s6RzEi","game"),cc.Class({extends:cc.Component,properties:{draw:cc.Graphics,player1:cc.Node,base:cc.Node,hook:cc.Node,moneyLabel1:cc.Label,add1:cc.Label,addFire:cc.Label,levelLabel:cc.Label,money1:0,power1:0,target:0,countDown:cc.Label,exit:cc.Node,powerLogo:cc.Node},onLoad:function(){cc.director.getCollisionManager().enabledDebugDraw=!1,cc.director.getCollisionManager().enabled=!0},onTouchExit:function(o){cc.director.loadScene("start")},start:function(){this.broadcostTimes=30,this.schedule(this.doCountdownTime,1),this.money1=Global.currentMoney,this.power1=Global.powers,this.target=Global.targets[Global.currentLevel-1],this.levelLabel.string="Level "+Global.currentLevel+"\nTarget: $"+this.target,this.exit.on(cc.Node.EventType.TOUCH_START,this.onTouchExit,this)},doCountdownTime:function(){if(this.countDown.string="-"+this.broadcostTimes+"s",this.broadcostTimes-=1,-1===this.broadcostTimes)if(this.money1>=this.target){console.log("You win! Next Level!");var o=cc.find("Canvas/fire1").getComponent("fire1");Global.currentMoney=this.money1,Global.fires=o.num,Global.betterDiamonds=0,Global.powers=0,Global.luckys=0,Global.stoneBooks=0,8===Global.currentLevel?cc.director.loadScene("pass"):(Global.currentLevel++,cc.director.loadScene("next"))}else Global.loseMoney=this.money1,console.log(Global.powers),Global.powers=this.power1,console.log(Global.powers),cc.director.loadScene("lose")},update:function(o){this.draw.clear();var t=this.base.convertToWorldSpaceAR(cc.v2(0,1)),e=this.hook.convertToWorldSpaceAR(cc.v2(-.1,-25.3));this.draw.lineWidth=4.5,this.draw.moveTo(t.x,t.y),this.draw.lineTo(e.x,e.y),this.draw.stroke(),this.moneyLabel1.string="$ "+this.money1,Global.powers>0?this.powerLogo.opacity=255:this.powerLogo.opacity=0}}),cc._RF.pop()},{}],global:[function(o,t,e){"use strict";cc._RF.push(t,"84c8fPw839Fyb+yvSdLSv/B","global"),window.Global={currentLevel:1,currentMoney:0,loseMoney:0,targets:[700,1600,2600,4e3,5500,7200,8800,1e4],fires:0,betterDiamonds:0,powers:0,luckys:0,stoneBooks:0,sound:1},cc._RF.pop()},{}],hook:[function(o,t,e){"use strict";cc._RF.push(t,"459d0eZ8ShCPZzIoUCmBl+D","hook"),cc.Class({extends:cc.Component,properties:{moveSpeed:6,down:!1,flag:0,occupied:!1,downPlaying:!1,item:cc.Node,bigGold:{default:null,type:cc.AudioClip},getDown:{default:null,type:cc.AudioClip},goods:{default:null,type:cc.AudioClip}},onKeyDown:function(o){switch(o.keyCode){case cc.macro.KEY.down:this.down=!0}},onCollisionEnter:function(o,t){this.occupied||("bigGold"===o.node._name||"treasure"===o.node._name?1===Global.sound&&cc.audioEngine.play(this.bigGold,!1,1):"midGold"!==o.node._name&&"pocket"!==o.node._name&&"diamond"!==o.node._name&&"diamondPig"!==o.node._name||1===Global.sound&&cc.audioEngine.play(this.goods,!1,1))},onLoad:function(){this.animationComponent=this.getComponent(cc.Animation),this.initX=this.node.x,this.initY=this.node.y,this.animationComponent.play("hookRotation"),this.playing=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},start:function(){},update:function(o){if(this.down&&2!==this.flag){this.downPlaying||(this.downPlaying=!0,1===Global.sound&&cc.audioEngine.play(this.getDown,!1,1)),this.flag=1,this.playing=!1,this.animationComponent.stop("hookRotation"),this.animationComponent.stop("hookRotation2"),this.animationComponent.stop("hookRotation3");var t=this.node.getRotation()*(Math.PI/180);this.node.x-=this.moveSpeed*Math.sin(t),this.node.y-=this.moveSpeed*Math.cos(t),(this.node.x<-450||this.node.x>450||this.node.y<-240)&&(this.down=!1,this.occupied=!0)}else if(this.node.y<this.initY){this.flag=2,this.playing=!1;var e=this.node.getRotation()*(Math.PI/180);Global.powers>0?6===this.moveSpeed?(this.node.x+=this.moveSpeed*Math.sin(e),this.node.y+=this.moveSpeed*Math.cos(e)):(this.node.x+=5*Math.sin(e),this.node.y+=5*Math.cos(e)):(this.node.x+=this.moveSpeed*Math.sin(e),this.node.y+=this.moveSpeed*Math.cos(e)),this.down=!1}else this.downPlaying=!1,this.flag=3,this.node.x=this.initX,this.node.y=this.initY,this.moveSpeed=6,this.item=null,this.occupied=!1,this.playing||(this.node.getRotation()>30?this.animationComponent.play("hookRotation2"):this.node.getRotation()<-30?this.animationComponent.play("hookRotation3"):this.animationComponent.play("hookRotation"),this.playing=!0)}}),cc._RF.pop()},{}],items:[function(o,t,e){"use strict";cc._RF.push(t,"09721syMk9Jq7F6JuEK2Vzy","items"),cc.Class({extends:cc.Component,properties:{speed:0,value:0,hooked:!1,theta:0,moveSpeed:3,toRight:!0,bombing:!1},onCollisionEnter:function(o,t){"hook"!==o.node.group||o.node.getComponent("hook").occupied?"items"===o.node.group&&("pig"===this.node._name?this.hooked||(this.toRight?(this.toRight=!1,this.animationComponent.stop("pigRunR"),this.animationComponent.play("pigRun")):(this.toRight=!0,this.animationComponent.stop("pigRun"),this.animationComponent.play("pigRunR"))):"diamondPig"===this.node._name&&(this.hooked||(this.toRight?(this.toRight=!1,this.animationComponent.stop("diamondPigRunR"),this.animationComponent.play("diamondPigRun")):(this.toRight=!0,this.animationComponent.stop("diamondPigRun"),this.animationComponent.play("diamondPigRunR"))))):(this.hook.moveSpeed=this.speed,this.hook.down=!1,this.theta=o.node.getRotation()*(Math.PI/180),this.node.x=o.node.x-(40+this.node.height/2)*Math.sin(this.theta),this.node.y=o.node.y-(40+this.node.height/2)*Math.cos(this.theta),this.hooked=!0,this.hook.occupied=!0,this.hook.item=this.node)},start:function(){if(this.canvas=cc.find("Canvas").getComponent("game"),this.hook=cc.find("Canvas/hook").getComponent("hook"),this.animationComponent=this.getComponent(cc.Animation),"pig"===this.node._name)Math.random()>.5?(this.toRight=!0,this.animationComponent.play("pigRunR")):(this.toRight=!1,this.animationComponent.play("pigRun"));else if("diamondPig"===this.node._name){Math.random()>.5?(this.toRight=!0,this.animationComponent.play("diamondPigRunR")):(this.toRight=!1,this.animationComponent.play("diamondPigRun"))}else if("pocket"===this.node._name){var o=Math.random(),t=Math.random();this.speed=o<.4?3.5:o<.7?2:1,this.value=t<.3?200:t<.6?80:t<.8?500:-1}else if("treasure"===this.node._name){var e=Math.random(),n=Math.random();this.speed=e<.4?3.5:e<.7?2:1,this.value=n<.2?300:n<.4?150:n<.6?600:n<.8?-1:-2}"diamond"!==this.node._name&&"diamondPig"!==this.node._name||Global.betterDiamonds>0&&(this.value+=200),"smallRock"!==this.node._name&&"midRock"!==this.node._name&&"bigRock"!==this.node._name||Global.stoneBooks>0&&(this.value=2*this.value),this.animationComponent.bombOver=function(){var o=cc.find("Canvas/hook").getComponent("hook");o.moveSpeed=6,o.item=null,this.node.destroy()}},update:function(o){if(this.hooked)if(this.hook.occupied)Global.powers>0?6===this.moveSpeed?(this.node.x+=this.speed*Math.sin(this.theta),this.node.y+=this.speed*Math.cos(this.theta)):(this.node.x+=5*Math.sin(this.theta),this.node.y+=5*Math.cos(this.theta)):(this.node.x+=this.speed*Math.sin(this.theta),this.node.y+=this.speed*Math.cos(this.theta));else if("fireworks"===this.node._name)cc.find("Canvas/fire1").getComponent("fire1").num++,this.node.destroy(),this.canvas.addFire.string="+1",this.canvas.addFire.getComponent("label").play=!0;else if("pocket"===this.node._name&&-1===this.value){cc.find("Canvas/fire1").getComponent("fire1").num++,this.node.destroy(),this.canvas.addFire.string="+1",this.canvas.addFire.getComponent("label").play=!0}else if("treasure"===this.node._name&&-2===this.value){cc.find("Canvas/fire1").getComponent("fire1").num+=2,this.node.destroy(),this.canvas.addFire.string="+2",this.canvas.addFire.getComponent("label").play=!0}else if("treasure"===this.node._name&&-1===this.value){if(Global.powers>0)cc.find("Canvas/fire1").getComponent("fire1").num+=1,this.canvas.addFire.string="+1",this.canvas.addFire.getComponent("label").play=!0;else Global.powers=1;this.node.destroy()}else this.node.destroy(),this.canvas.add1.string="+"+this.value,this.canvas.add1.getComponent("label").play=!0,this.canvas.money1+=this.value;else"pig"===this.node._name?this.toRight?(this.node.x+=this.moveSpeed,this.node.x>440&&(this.toRight=!1,this.animationComponent.stop("pigRunR"),this.animationComponent.play("pigRun"))):(this.node.x-=this.moveSpeed,this.node.x<-440&&(this.toRight=!0,this.animationComponent.stop("pigRun"),this.animationComponent.play("pigRunR"))):"diamondPig"===this.node._name&&(this.toRight?(this.node.x+=this.moveSpeed,this.node.x>440&&(this.toRight=!1,this.animationComponent.stop("diamondPigRunR"),this.animationComponent.play("diamondPigRun"))):(this.node.x-=this.moveSpeed,this.node.x<-440&&(this.toRight=!0,this.animationComponent.stop("diamondPigRun"),this.animationComponent.play("diamondPigRunR"))))}}),cc._RF.pop()},{}],label:[function(o,t,e){"use strict";cc._RF.push(t,"f8f10Se2R5MkI+03RCpX6T5","label"),cc.Class({extends:cc.Component,properties:{play:!1},start:function(){this.animationComponent=this.getComponent(cc.Animation)},update:function(o){this.play&&(this.animationComponent.play("labelVanish"),this.play=!1)}}),cc._RF.pop()},{}],loading:[function(o,t,e){"use strict";cc._RF.push(t,"9c6f2/jee9KQ6LETgMP+1Wd","loading"),cc.Class({extends:cc.Component,properties:{load:cc.Node,broadcostTimes:2},doCountdownTime:function(){this.broadcostTimes-=1,console.log(this.broadcostTimes),this.broadcostTimes<=0&&this.loadOver&&cc.director.loadScene("start")},start:function(){this.schedule(this.doCountdownTime,1),this.load.getComponent(cc.Animation).play("loading"),cc.loader.downloader.loadSubpackage("img",function(o){if(o)return console.log("load subpackage failed."),console.error(o);console.log("load img successfully."),cc.loader.downloader.loadSubpackage("music",function(o){if(o)return console.log("load subpackage failed."),console.error(o);cc.find("Canvas").getComponent("loading").loadOver=!0,console.log("load music successfully.")})})}}),cc._RF.pop()},{}],loadlevel:[function(o,t,e){"use strict";cc._RF.push(t,"0c5e3D0UM5KA6DlJ4mtv+60","loadlevel"),cc.Class({extends:cc.Component,properties:{level:cc.Label,stonebook:cc.Label,power:cc.Label,fire:cc.Label,lucky:cc.Label,betterDiamond:cc.Label,broadcostTimes:2,audio:{default:null,type:cc.AudioClip}},start:function(){1===Global.sound&&cc.audioEngine.play(this.audio,!1,1),this.schedule(this.doCountdownTime,1);var o=Global.currentLevel;this.level.string="Level "+o+"\nTarget: "+Global.targets[o-1],this.stonebook.string="x"+Global.stoneBooks,this.power.string="x"+Global.powers,this.fire.string="x"+Global.fires,this.lucky.string="x"+Global.luckys,this.betterDiamond.string="x"+Global.betterDiamonds},doCountdownTime:function(){if(this.broadcostTimes>=-1&&(this.broadcostTimes-=1,-1===this.broadcostTimes)){var o="level"+Global.currentLevel;cc.director.loadScene(o)}}}),cc._RF.pop()},{}],losebtn:[function(o,t,e){"use strict";cc._RF.push(t,"745ebYtre9C7ZBLLUhdTf3P","losebtn"),cc.Class({extends:cc.Component,properties:{},onTouchStart:function(o){if("menu"===this.node._name)cc.director.loadScene("start");else if("restart"===this.node._name){var t="level"+Global.currentLevel;cc.director.loadScene(t)}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)}}),cc._RF.pop()},{}],lose:[function(o,t,e){"use strict";cc._RF.push(t,"18ce1mYCrdErohTQM+75yCg","lose"),cc.Class({extends:cc.Component,properties:{label:cc.Label,audio:{default:null,type:cc.AudioClip}},start:function(){"undefined"!=typeof wx&&(1===Global.sound&&cc.audioEngine.play(this.audio,!1,1),this.label.string="YOU LOSE!\n\nSCORE: "+Global.loseMoney,wx.postMessage({message:"UpdateScore",score:Global.loseMoney.toString()}))}}),cc._RF.pop()},{}],next:[function(o,t,e){"use strict";cc._RF.push(t,"3e6f8hw54hPdJs+WFXF3bmq","next"),cc.Class({extends:cc.Component,properties:{broadcostTimes:3,audio:{default:null,type:cc.AudioClip}},start:function(){1===Global.sound&&cc.audioEngine.play(this.audio,!1,1),this.schedule(this.doCountdownTime,1)},doCountdownTime:function(){this.broadcostTimes>=0&&(this.broadcostTimes-=1,0===this.broadcostTimes&&cc.director.loadScene("shop"))}}),cc._RF.pop()},{}],passbtn:[function(o,t,e){"use strict";cc._RF.push(t,"d0085DaeL5IT4reCe8HGWj0","passbtn"),cc.Class({extends:cc.Component,properties:{},onTouchStart:function(o){"menu"===this.node._name?cc.director.loadScene("start"):"restart"===this.node._name&&(Global.currentLevel=1,Global.currentMoney=0,Global.fires=0,Global.betterDiamonds=0,Global.powers=0,Global.luckys=0,Global.stoneBooks=0,cc.director.loadScene("level1"))},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)}}),cc._RF.pop()},{}],pass:[function(o,t,e){"use strict";cc._RF.push(t,"77816M/rXJFKai17Et+4gf+","pass"),cc.Class({extends:cc.Component,properties:{label:cc.Label,audio:{default:null,type:cc.AudioClip}},start:function(){1===Global.sound&&cc.audioEngine.play(this.audio,!1,1),this.label.string="STAGE CLEAR!\n\nSCORE: "+Global.currentMoney,wx.postMessage({message:"UpdateScore",score:Global.currentMoney.toString()})}}),cc._RF.pop()},{}],setting:[function(o,t,e){"use strict";cc._RF.push(t,"1df99zUMPRNTq2Qy8WseAcm","setting"),cc.Class({extends:cc.Component,properties:{sound:cc.Label,soundNode:cc.Node,return:cc.Node},onTouchStart:function(o){0===Global.sound?(Global.sound=1,this.sound.string="SOUND: ON"):(Global.sound=0,this.sound.string="SOUND: OFF")},onTouchStart1:function(o){cc.director.loadScene("start")},start:function(){this.soundNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.return.on(cc.Node.EventType.TOUCH_START,this.onTouchStart1,this),0===Global.sound?this.sound.string="SOUND: OFF":this.sound.string="SOUND: ON"}}),cc._RF.pop()},{}],shop:[function(o,t,e){"use strict";cc._RF.push(t,"00f5doL+PtDyrqZvvSjFexw","shop"),cc.Class({extends:cc.Component,properties:{stonebook:cc.Node,power:cc.Node,fire:cc.Node,lucky:cc.Node,betterDiamond:cc.Node,next:cc.Node,stonebookLabel:cc.Label,powerLabel:cc.Label,fireLabel:cc.Label,luckyLabel:cc.Label,betterDiamondLabel:cc.Label,moneyLabel:cc.Label,notice:cc.Label,choose:{default:null,type:cc.AudioClip},ding:{default:null,type:cc.AudioClip}},onTouchStart1:function(o){-1!==this.price1?Global.currentMoney>this.price1?(1===Global.sound&&cc.audioEngine.play(this.choose,!1,1),Global.stoneBooks=1,Global.currentMoney-=this.price1,this.stonebook.destroy(),this.notice.string="GET A STONEBOOK!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="NEED MORE MONEY!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="SOLD OUT!!")},onTouchStart2:function(o){-1!==this.price2?Global.currentMoney>this.price2?(1===Global.sound&&cc.audioEngine.play(this.choose,!1,1),Global.powers=1,Global.currentMoney-=this.price2,this.power.destroy(),this.notice.string="GET POWER!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="NEED MORE MONEY!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="SOLD OUT!!")},onTouchStart3:function(o){-1!==this.price3?Global.currentMoney>this.price3?(1===Global.sound&&cc.audioEngine.play(this.choose,!1,1),Global.fires++,Global.currentMoney-=this.price3,this.fire.destroy(),this.notice.string="GET A BOBM!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="NEED MORE MONEY!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="SOLD OUT!!")},onTouchStart4:function(o){-1!==this.price4?Global.currentMoney>this.price4?(1===Global.sound&&cc.audioEngine.play(this.choose,!1,1),Global.luckys=1,Global.currentMoney-=this.price4,this.lucky.destroy(),this.notice.string="GET LUCK!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="NEED MORE MONEY!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="SOLD OUT!!")},onTouchStart5:function(o){-1!==this.price5?(1===Global.sound&&cc.audioEngine.play(this.choose,!1,1),Global.currentMoney>this.price5?(Global.betterDiamonds=1,Global.currentMoney-=this.price5,this.betterDiamond.destroy(),this.notice.string="GET BETTER DIAMOND!!"):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="NEED MORE MONEY!!")):(1===Global.sound&&cc.audioEngine.play(this.ding,!1,1),this.notice.string="SOLD OUT!!")},onTouchStart6:function(o){cc.director.loadScene("loadlevel")},start:function(){var o=Math.random();o>.6?(this.price1=-1,this.stonebookLabel.string="SOLD OUT"):(this.price1=parseInt(371*Math.random()+30),this.stonebookLabel.string="$"+this.price1),(o=Math.random())>.6?(this.price2=-1,this.powerLabel.string="SOLD OUT"):(this.price2=parseInt(201*Math.random()+200),this.powerLabel.string="$"+this.price2),(o=Math.random())>.6?(this.price3=-1,this.fireLabel.string="SOLD OUT"):(this.price3=parseInt(311*Math.random()+90),this.fireLabel.string="$"+this.price3),(o=Math.random())>.6?(this.price4=-1,this.luckyLabel.string="SOLD OUT"):(this.price4=parseInt(321*Math.random()+80),this.luckyLabel.string="$"+this.price4),(o=Math.random())>.6?(this.price5=-1,this.betterDiamondLabel.string="SOLD OUT"):(this.price5=parseInt(371*Math.random()+50),this.betterDiamondLabel.string="$"+this.price5),this.stonebook.on(cc.Node.EventType.TOUCH_START,this.onTouchStart1,this),this.power.on(cc.Node.EventType.TOUCH_START,this.onTouchStart2,this),this.fire.on(cc.Node.EventType.TOUCH_START,this.onTouchStart3,this),this.lucky.on(cc.Node.EventType.TOUCH_START,this.onTouchStart4,this),this.betterDiamond.on(cc.Node.EventType.TOUCH_START,this.onTouchStart5,this),this.next.on(cc.Node.EventType.TOUCH_START,this.onTouchStart6,this)},update:function(o){this.moneyLabel.string="MONEY: $"+Global.currentMoney}}),cc._RF.pop()},{}],startbtn:[function(o,t,e){"use strict";cc._RF.push(t,"814batwKhpFCZv2U5FQe2OS","startbtn"),cc.Class({extends:cc.Component,properties:{speed:4,value:0,hooked:!1,theta:0},onCollisionEnter:function(o,t){"hook"!==o.node.group||o.node.getComponent("hook").occupied||(this.hook.moveSpeed=this.speed,this.hook.down=!1,this.theta=o.node.getRotation()*(Math.PI/180),this.node.x=o.node.x-(40+this.node.height/2)*Math.sin(this.theta),this.node.y=o.node.y-(40+this.node.height/2)*Math.cos(this.theta),this.hooked=!0,this.hook.occupied=!0,this.hook.item=this.node)},start:function(){this.canvas=cc.find("Canvas").getComponent("start"),this.hook=cc.find("Canvas/hook").getComponent("hook"),this.animationComponent=this.getComponent(cc.Animation)},update:function(o){this.hooked&&(this.hook.occupied?(this.node.x+=this.speed*Math.sin(this.theta),this.node.y+=this.speed*Math.cos(this.theta)):("single"===this.node._name?cc.director.loadScene("loadlevel"):"rank"===this.node._name?(wx.postMessage({message:"Show"}),cc.director.loadScene("rank")):"tutorial"===this.node._name?cc.director.loadScene("tutorial"):"setting"===this.node._name&&cc.director.loadScene("setting"),this.node.destroy()))}}),cc._RF.pop()},{}],start:[function(o,t,e){"use strict";cc._RF.push(t,"dae89QogahOwKknrur62X+5","start"),cc.Class({extends:cc.Component,properties:{draw:cc.Graphics,player1:cc.Node,base:cc.Node,hook:cc.Node,avatar:cc.Node},onLoad:function(){"undefined"!=typeof wx&&(wx.login({success:function(o){o.code;wx.getSetting({success:function(o){if(o.authSetting["scope.userInfo"])console.log("\u5df2\u7ecf\u6388\u6743"),wx.getUserInfo({success:function(o){console.log(o.userInfo.nickName),cc.loader.load({url:o.userInfo.avatarUrl,type:"png"},function(o,t){o?console.error(o):cc.find("Canvas/avatar").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)})}});else{var t=wx.getSystemInfoSync(),e=t.windowWidth,n=t.windowHeight,i=wx.createUserInfoButton({type:"text",text:"Press to login",style:{left:0,top:.4*n,width:e,height:n,lineHeight:40,backgroundColor:"white",color:"black",textAlign:"center",fontSize:30,borderRadius:4}});i.onTap(function(o){var t=o.userInfo;t&&(console.log(t.nickName),cc.loader.load({url:t.avatarUrl,type:"png"},function(o,t){o?console.error(o):cc.find("Canvas/avatar").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),wx.getOpenDataContext().postMessage({message:"User info get success."}),wx.postMessage({message:"UpdateScore",score:"0"}),i.hide(),i.destroy())})}}})}}),Global.currentLevel=1,Global.currentMoney=0,Global.fires=0,Global.betterDiamonds=0,Global.powers=0,Global.luckys=0,Global.stoneBooks=0,cc.director.getCollisionManager().enabledDebugDraw=!1,cc.director.getCollisionManager().enabled=!0)},update:function(o){this.draw.clear();var t=this.base.convertToWorldSpaceAR(cc.v2(0,1)),e=this.hook.convertToWorldSpaceAR(cc.v2(-.1,-25.3));this.draw.lineWidth=4.5,this.draw.moveTo(t.x,t.y),this.draw.lineTo(e.x,e.y),this.draw.stroke()}}),cc._RF.pop()},{}],subdomain:[function(o,t,e){"use strict";cc._RF.push(t,"33bafVvAqlI86PN0hj9N5Al","subdomain"),cc.Class({extends:cc.Component,properties:{btn:cc.Node,wxSubContextView:cc.Node},onTouchStart:function(o){cc.director.loadScene("start")},start:function(){this.btn.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},update:function(o){}}),cc._RF.pop()},{}],tnt:[function(o,t,e){"use strict";cc._RF.push(t,"ecae1uTvBBKA4C08LWMRC/9","tnt"),cc.Class({extends:cc.Component,properties:{speed:0,value:0,hooked:!1,theta:0,audio:{default:null,type:cc.AudioClip}},onCollisionEnter:function(o,t){"hook"!==o.node.group||o.node.getComponent("hook").occupied||(this.hook=o.node.getComponent("hook"),this.hook.down=!1,this.hooked=!0,this.hook.occupied=!0,this.animationComponent.play("tntbomb"),1===Global.sound&&cc.audioEngine.play(this.audio,!1,1))},start:function(){this.canvas=cc.find("Canvas").getComponent("game"),this.animationComponent=this.getComponent(cc.Animation),this.animationComponent.bombOver=function(){this.node.destroy(),console.log("delete node");var o=cc.find("Canvas").children,t=!0,e=!1,n=void 0;try{for(var i,s=o[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var a=i.value;"items"!==a.group&&"pig"!==a.group||Math.pow(this.node.x-a.x,2)+Math.pow(this.node.y-a.y,2)<2e4&&a.destroy()}}catch(o){e=!0,n=o}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}},update:function(o){}}),cc._RF.pop()},{}],tutorial_next:[function(o,t,e){"use strict";cc._RF.push(t,"1a91dvAwBJKCZY702kAU0b+","tutorial_next"),cc.Class({extends:cc.Component,properties:{return:cc.Node},onTouchStartReturn:function(o){cc.director.loadScene("start")},start:function(){this.return.on(cc.Node.EventType.TOUCH_START,this.onTouchStartReturn,this)}}),cc._RF.pop()},{}],tutorial:[function(o,t,e){"use strict";cc._RF.push(t,"64f8etnoJ5FVJ5ocrtOiMW3","tutorial"),cc.Class({extends:cc.Component,properties:{next:cc.Node},onTouchStartNext:function(o){cc.director.loadScene("tutorial_next")},start:function(){this.next.on(cc.Node.EventType.TOUCH_START,this.onTouchStartNext,this)}}),cc._RF.pop()},{}]},{},["background","fire1","game","global","hook","items","label","loading","loadlevel","lose","losebtn","next","pass","passbtn","setting","shop","start","startbtn","subdomain","tnt","tutorial","tutorial_next"]);