{"version":3,"sources":["../../../../assets/script/assets/script/startbtn.js"],"names":["cc","Class","extends","Component","properties","speed","value","hooked","theta","onCollisionEnter","other","self","node","group","getComponent","occupied","hook","moveSpeed","down","getRotation","Math","PI","x","height","sin","y","cos","item","start","canvas","find","animationComponent","Animation","update","dt","_name","director","loadScene","wx","postMessage","message","destroy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,WAAO,CADG;AAEVC,WAAO,CAFG;AAGVC,YAAQ,KAHE;AAIVC,WAAO;AAJG,GAHL;;AAUP;;AAEA;;AAEAC,oBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AACvC,QAAID,MAAME,IAAN,CAAWC,KAAX,KAAqB,MAArB,IAA+B,CAACH,MAAME,IAAN,CAAWE,YAAX,CAAwB,MAAxB,EAAgCC,QAApE,EAA8E;AAC5E,WAAKC,IAAL,CAAUC,SAAV,GAAsB,KAAKZ,KAA3B;AACA,WAAKW,IAAL,CAAUE,IAAV,GAAiB,KAAjB;AACA,WAAKV,KAAL,GAAaE,MAAME,IAAN,CAAWO,WAAX,MAA4BC,KAAKC,EAAL,GAAU,GAAtC,CAAb;AACA,WAAKT,IAAL,CAAUU,CAAV,GAAcZ,MAAME,IAAN,CAAWU,CAAX,GAAe,CAAC,KAAK,KAAKV,IAAL,CAAUW,MAAV,GAAmB,CAAzB,IAA8BH,KAAKI,GAAL,CAAS,KAAKhB,KAAd,CAA3D;AACA,WAAKI,IAAL,CAAUa,CAAV,GAAcf,MAAME,IAAN,CAAWa,CAAX,GAAe,CAAC,KAAK,KAAKb,IAAL,CAAUW,MAAV,GAAmB,CAAzB,IAA8BH,KAAKM,GAAL,CAAS,KAAKlB,KAAd,CAA3D;AACA,WAAKD,MAAL,GAAc,IAAd;AACA,WAAKS,IAAL,CAAUD,QAAV,GAAqB,IAArB;AACA,WAAKC,IAAL,CAAUW,IAAV,GAAiB,KAAKf,IAAtB;AACD;AACF,GAzBM;;AA2BPgB,OA3BO,mBA2BE;AACP,SAAKC,MAAL,GAAc7B,GAAG8B,IAAH,CAAQ,QAAR,EAAkBhB,YAAlB,CAA+B,OAA/B,CAAd;AACA,SAAKE,IAAL,GAAYhB,GAAG8B,IAAH,CAAQ,aAAR,EAAuBhB,YAAvB,CAAoC,MAApC,CAAZ;AACA,SAAKiB,kBAAL,GAA0B,KAAKjB,YAAL,CAAkBd,GAAGgC,SAArB,CAA1B;AACD,GA/BM;AAiCPC,QAjCO,kBAiCCC,EAjCD,EAiCK;AACV,QAAI,KAAK3B,MAAT,EAAiB;AACf,UAAI,KAAKS,IAAL,CAAUD,QAAd,EAAwB;AACtB,aAAKH,IAAL,CAAUU,CAAV,IAAe,KAAKjB,KAAL,GAAae,KAAKI,GAAL,CAAS,KAAKhB,KAAd,CAA5B;AACA,aAAKI,IAAL,CAAUa,CAAV,IAAe,KAAKpB,KAAL,GAAae,KAAKM,GAAL,CAAS,KAAKlB,KAAd,CAA5B;AACD,OAHD,MAGO;AACL,YAAI,KAAKI,IAAL,CAAUuB,KAAV,KAAoB,QAAxB,EAAkC;AAChCnC,aAAGoC,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACD,SAFD,MAEO,IAAI,KAAKzB,IAAL,CAAUuB,KAAV,KAAoB,MAAxB,EAAgC;AACrCG,aAAGC,WAAH,CAAe,EAACC,SAAS,MAAV,EAAf;AACAxC,aAAGoC,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACD,SAHM,MAGA,IAAI,KAAKzB,IAAL,CAAUuB,KAAV,KAAoB,UAAxB,EAAoC;AACzCnC,aAAGoC,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACD,SAFM,MAEA,IAAI,KAAKzB,IAAL,CAAUuB,KAAV,KAAoB,SAAxB,EAAmC;AACxCnC,aAAGoC,QAAH,CAAYC,SAAZ,CAAsB,SAAtB;AACD;AACD,aAAKzB,IAAL,CAAU6B,OAAV;AACD;AACF;AACF;AApDM,CAAT","file":"startbtn.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    speed: 4,\n    value: 0,\n    hooked: false,\n    theta: 0\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  // onLoad () {},\n\n  onCollisionEnter: function (other, self) {\n    if (other.node.group === 'hook' && !other.node.getComponent('hook').occupied) {\n      this.hook.moveSpeed = this.speed\n      this.hook.down = false\n      this.theta = other.node.getRotation() * (Math.PI / 180)\n      this.node.x = other.node.x - (40 + this.node.height / 2) * Math.sin(this.theta)\n      this.node.y = other.node.y - (40 + this.node.height / 2) * Math.cos(this.theta)\n      this.hooked = true\n      this.hook.occupied = true\n      this.hook.item = this.node\n    }\n  },\n\n  start () {\n    this.canvas = cc.find('Canvas').getComponent('start')\n    this.hook = cc.find('Canvas/hook').getComponent('hook')\n    this.animationComponent = this.getComponent(cc.Animation)\n  },\n\n  update (dt) {\n    if (this.hooked) {\n      if (this.hook.occupied) {\n        this.node.x += this.speed * Math.sin(this.theta)\n        this.node.y += this.speed * Math.cos(this.theta)\n      } else {\n        if (this.node._name === 'single') {\n          cc.director.loadScene('loadlevel')\n        } else if (this.node._name === 'rank') {\n          wx.postMessage({message: 'Show'})\n          cc.director.loadScene('rank')\n        } else if (this.node._name === 'tutorial') {\n          cc.director.loadScene('tutorial')\n        } else if (this.node._name === 'setting') {\n          cc.director.loadScene(\"setting\")\n        }\n        this.node.destroy()\n      }\n    }\n  }\n})\n"]}