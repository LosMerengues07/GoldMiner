{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\shop.js"],"names":["cc","Class","extends","Component","properties","stonebook","Node","power","fire","lucky","betterDiamond","next","stonebookLabel","Label","powerLabel","fireLabel","luckyLabel","betterDiamondLabel","moneyLabel","notice","choose","default","type","AudioClip","ding","onTouchStart1","event","price1","Global","currentMoney","audioEngine","play","stoneBooks","destroy","string","onTouchStart2","price2","powers","onTouchStart3","price3","fires","onTouchStart4","price4","luckys","onTouchStart5","price5","betterDiamonds","onTouchStart6","director","loadScene","start","num","Math","random","parseInt","on","EventType","TOUCH_START","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,eAAWL,GAAGM,IADJ;AAEVC,WAAOP,GAAGM,IAFA;AAGVE,UAAMR,GAAGM,IAHC;AAIVG,WAAOT,GAAGM,IAJA;AAKVI,mBAAeV,GAAGM,IALR;AAMVK,UAAMX,GAAGM,IANC;;AAQVM,oBAAgBZ,GAAGa,KART;AASVC,gBAAYd,GAAGa,KATL;AAUVE,eAAWf,GAAGa,KAVJ;AAWVG,gBAAYhB,GAAGa,KAXL;AAYVI,wBAAoBjB,GAAGa,KAZb;AAaVK,gBAAYlB,GAAGa,KAbL;AAcVM,YAAQnB,GAAGa,KAdD;AAeVO,YAAQ;AACNC,eAAS,IADH;AAENC,YAAMtB,GAAGuB;AAFH,KAfE;AAmBVC,UAAM;AACJH,eAAS,IADL;AAEJC,YAAMtB,GAAGuB;AAFL;AAnBI,GAHL;;AA4BP;;AAEA;AACAE,eA/BO,yBA+BQC,KA/BR,EA+Be;AACpB,QAAI,KAAKC,MAAL,KAAgB,CAAC,CAArB,EAAwB;AACtB,UAAIC,OAAOC,YAAP,GAAsB,KAAKF,MAA/B,EAAuC;AACrC3B,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,MAAzB,EAAiC,KAAjC,EAAwC,CAAxC;AACAQ,eAAOI,UAAP,GAAoB,CAApB;AACAJ,eAAOC,YAAP,IAAuB,KAAKF,MAA5B;AACA,aAAKtB,SAAL,CAAe4B,OAAf;AACA,aAAKd,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD,OAND,MAMO;AACLlC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,aAAKL,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD;AACF,KAXD,MAWO;AACLlC,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,WAAKL,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD;AACF,GA/CM;AAgDPC,eAhDO,yBAgDQT,KAhDR,EAgDe;AACpB,QAAI,KAAKU,MAAL,KAAgB,CAAC,CAArB,EAAwB;AACtB,UAAIR,OAAOC,YAAP,GAAsB,KAAKO,MAA/B,EAAuC;AACrCpC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,MAAzB,EAAiC,KAAjC,EAAwC,CAAxC;AACAQ,eAAOS,MAAP,GAAgB,CAAhB;AACAT,eAAOC,YAAP,IAAuB,KAAKO,MAA5B;AACA,aAAK7B,KAAL,CAAW0B,OAAX;AACA,aAAKd,MAAL,CAAYe,MAAZ,GAAqB,aAArB;AACD,OAND,MAMO;AACLlC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,aAAKL,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD;AACF,KAXD,MAWO;AACLlC,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,WAAKL,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD;AACF,GAhEM;AAiEPI,eAjEO,yBAiEQZ,KAjER,EAiEe;AACpB,QAAI,KAAKa,MAAL,KAAgB,CAAC,CAArB,EAAwB;AACtB,UAAIX,OAAOC,YAAP,GAAsB,KAAKU,MAA/B,EAAuC;AACrCvC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,MAAzB,EAAiC,KAAjC,EAAwC,CAAxC;AACAQ,eAAOY,KAAP;AACAZ,eAAOC,YAAP,IAAuB,KAAKU,MAA5B;AACA,aAAK/B,IAAL,CAAUyB,OAAV;AACA,aAAKd,MAAL,CAAYe,MAAZ,GAAqB,cAArB;AACD,OAND,MAMO;AACLlC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,aAAKL,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD;AACF,KAXD,MAWO;AACLlC,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,WAAKL,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD;AACF,GAjFM;AAkFPO,eAlFO,yBAkFQf,KAlFR,EAkFe;AACpB,QAAI,KAAKgB,MAAL,KAAgB,CAAC,CAArB,EAAwB;AACtB,UAAId,OAAOC,YAAP,GAAsB,KAAKa,MAA/B,EAAuC;AACrC1C,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,MAAzB,EAAiC,KAAjC,EAAwC,CAAxC;AACAQ,eAAOe,MAAP,GAAgB,CAAhB;AACAf,eAAOC,YAAP,IAAuB,KAAKa,MAA5B;AACA,aAAKjC,KAAL,CAAWwB,OAAX;AACA,aAAKd,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD,OAND,MAMO;AACLlC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,aAAKL,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD;AACF,KAXD,MAWO;AACLlC,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,WAAKL,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD;AACF,GAlGM;AAmGPU,eAnGO,yBAmGQlB,KAnGR,EAmGe;AACpB,QAAI,KAAKmB,MAAL,KAAgB,CAAC,CAArB,EAAwB;AACtB7C,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKX,MAAzB,EAAiC,KAAjC,EAAwC,CAAxC;AACA,UAAIQ,OAAOC,YAAP,GAAsB,KAAKgB,MAA/B,EAAuC;AACrCjB,eAAOkB,cAAP,GAAwB,CAAxB;AACAlB,eAAOC,YAAP,IAAuB,KAAKgB,MAA5B;AACA,aAAKnC,aAAL,CAAmBuB,OAAnB;AACA,aAAKd,MAAL,CAAYe,MAAZ,GAAqB,sBAArB;AACD,OALD,MAKO;AACLlC,WAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,aAAKL,MAAL,CAAYe,MAAZ,GAAqB,mBAArB;AACD;AACF,KAXD,MAWO;AACLlC,SAAG8B,WAAH,CAAeC,IAAf,CAAoB,KAAKP,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC;AACA,WAAKL,MAAL,CAAYe,MAAZ,GAAqB,YAArB;AACD;AACF,GAnHM;AAoHPa,eApHO,yBAoHQrB,KApHR,EAoHe;AACpB1B,OAAGgD,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACD,GAtHM;AAwHPC,OAxHO,mBAwHE;AACP,QAAIC,MAAMC,KAAKC,MAAL,EAAV;AACA,QAAIF,MAAM,GAAV,EAAe;AACb,WAAKxB,MAAL,GAAc,CAAC,CAAf;AACA,WAAKf,cAAL,CAAoBsB,MAApB,GAA6B,UAA7B;AACD,KAHD,MAGO;AACL,WAAKP,MAAL,GAAc2B,SAASF,KAAKC,MAAL,MAAiB,MAAM,EAAN,GAAW,CAA5B,IAAiC,EAA1C,CAAd;AACA,WAAKzC,cAAL,CAAoBsB,MAApB,GAA6B,MAAM,KAAKP,MAAxC;AACD;;AAEDwB,UAAMC,KAAKC,MAAL,EAAN;AACA,QAAIF,MAAM,GAAV,EAAe;AACb,WAAKf,MAAL,GAAc,CAAC,CAAf;AACA,WAAKtB,UAAL,CAAgBoB,MAAhB,GAAyB,UAAzB;AACD,KAHD,MAGO;AACL,WAAKE,MAAL,GAAckB,SAASF,KAAKC,MAAL,MAAiB,MAAM,GAAN,GAAY,CAA7B,IAAkC,GAA3C,CAAd;AACA,WAAKvC,UAAL,CAAgBoB,MAAhB,GAAyB,MAAM,KAAKE,MAApC;AACD;;AAEDe,UAAMC,KAAKC,MAAL,EAAN;AACA,QAAIF,MAAM,GAAV,EAAe;AACb,WAAKZ,MAAL,GAAc,CAAC,CAAf;AACA,WAAKxB,SAAL,CAAemB,MAAf,GAAwB,UAAxB;AACD,KAHD,MAGO;AACL,WAAKK,MAAL,GAAce,SAASF,KAAKC,MAAL,MAAiB,MAAM,EAAN,GAAW,CAA5B,IAAiC,EAA1C,CAAd;AACA,WAAKtC,SAAL,CAAemB,MAAf,GAAwB,MAAM,KAAKK,MAAnC;AACD;;AAEDY,UAAMC,KAAKC,MAAL,EAAN;AACA,QAAIF,MAAM,GAAV,EAAe;AACb,WAAKT,MAAL,GAAc,CAAC,CAAf;AACA,WAAK1B,UAAL,CAAgBkB,MAAhB,GAAyB,UAAzB;AACD,KAHD,MAGO;AACL,WAAKQ,MAAL,GAAcY,SAASF,KAAKC,MAAL,MAAiB,MAAM,EAAN,GAAW,CAA5B,IAAiC,EAA1C,CAAd;AACA,WAAKrC,UAAL,CAAgBkB,MAAhB,GAAyB,MAAM,KAAKQ,MAApC;AACD;;AAEDS,UAAMC,KAAKC,MAAL,EAAN;AACA,QAAIF,MAAM,GAAV,EAAe;AACb,WAAKN,MAAL,GAAc,CAAC,CAAf;AACA,WAAK5B,kBAAL,CAAwBiB,MAAxB,GAAiC,UAAjC;AACD,KAHD,MAGO;AACL,WAAKW,MAAL,GAAcS,SAASF,KAAKC,MAAL,MAAiB,MAAM,EAAN,GAAW,CAA5B,IAAiC,EAA1C,CAAd;AACA,WAAKpC,kBAAL,CAAwBiB,MAAxB,GAAiC,MAAM,KAAKW,MAA5C;AACD;;AAED,SAAKxC,SAAL,CAAekD,EAAf,CAAkBvD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAApC,EAAiD,KAAKhC,aAAtD,EAAqE,IAArE;AACA,SAAKlB,KAAL,CAAWgD,EAAX,CAAcvD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAAhC,EAA6C,KAAKtB,aAAlD,EAAiE,IAAjE;AACA,SAAK3B,IAAL,CAAU+C,EAAV,CAAavD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAA/B,EAA4C,KAAKnB,aAAjD,EAAgE,IAAhE;AACA,SAAK7B,KAAL,CAAW8C,EAAX,CAAcvD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAAhC,EAA6C,KAAKhB,aAAlD,EAAiE,IAAjE;AACA,SAAK/B,aAAL,CAAmB6C,EAAnB,CAAsBvD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAAxC,EAAqD,KAAKb,aAA1D,EAAyE,IAAzE;AACA,SAAKjC,IAAL,CAAU4C,EAAV,CAAavD,GAAGM,IAAH,CAAQkD,SAAR,CAAkBC,WAA/B,EAA4C,KAAKV,aAAjD,EAAgE,IAAhE;AACD,GA5KM;AA8KPW,QA9KO,kBA8KCC,EA9KD,EA8KK;AACV,SAAKzC,UAAL,CAAgBgB,MAAhB,GAAyB,aAAaN,OAAOC,YAA7C;AACD;AAhLM,CAAT","file":"shop.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    stonebook: cc.Node,\r\n    power: cc.Node,\r\n    fire: cc.Node,\r\n    lucky: cc.Node,\r\n    betterDiamond: cc.Node,\r\n    next: cc.Node,\r\n\r\n    stonebookLabel: cc.Label,\r\n    powerLabel: cc.Label,\r\n    fireLabel: cc.Label,\r\n    luckyLabel: cc.Label,\r\n    betterDiamondLabel: cc.Label,\r\n    moneyLabel: cc.Label,\r\n    notice: cc.Label,\r\n    choose: {\r\n      default: null,\r\n      type: cc.AudioClip\r\n    },\r\n    ding: {\r\n      default: null,\r\n      type: cc.AudioClip\r\n    }\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  // onLoad () {},\r\n  onTouchStart1 (event) {\r\n    if (this.price1 !== -1) {\r\n      if (Global.currentMoney > this.price1) {\r\n        cc.audioEngine.play(this.choose, false, 1)\r\n        Global.stoneBooks = 1\r\n        Global.currentMoney -= this.price1\r\n        this.stonebook.destroy()\r\n        this.notice.string = 'GET A STONEBOOK!!'\r\n      } else {\r\n        cc.audioEngine.play(this.ding, false, 1)\r\n        this.notice.string = 'NEED MORE MONEY!!'\r\n      }\r\n    } else {\r\n      cc.audioEngine.play(this.ding, false, 1)\r\n      this.notice.string = 'SOLD OUT!!'\r\n    }\r\n  },\r\n  onTouchStart2 (event) {\r\n    if (this.price2 !== -1) {\r\n      if (Global.currentMoney > this.price2) {\r\n        cc.audioEngine.play(this.choose, false, 1)\r\n        Global.powers = 1\r\n        Global.currentMoney -= this.price2\r\n        this.power.destroy()\r\n        this.notice.string = 'GET POWER!!'\r\n      } else {\r\n        cc.audioEngine.play(this.ding, false, 1)\r\n        this.notice.string = 'NEED MORE MONEY!!'\r\n      }\r\n    } else {\r\n      cc.audioEngine.play(this.ding, false, 1)\r\n      this.notice.string = 'SOLD OUT!!'\r\n    }\r\n  },\r\n  onTouchStart3 (event) {\r\n    if (this.price3 !== -1) {\r\n      if (Global.currentMoney > this.price3) {\r\n        cc.audioEngine.play(this.choose, false, 1)\r\n        Global.fires++\r\n        Global.currentMoney -= this.price3\r\n        this.fire.destroy()\r\n        this.notice.string = 'GET A BOBM!!'\r\n      } else {\r\n        cc.audioEngine.play(this.ding, false, 1)\r\n        this.notice.string = 'NEED MORE MONEY!!'\r\n      }\r\n    } else {\r\n      cc.audioEngine.play(this.ding, false, 1)\r\n      this.notice.string = 'SOLD OUT!!'\r\n    }\r\n  },\r\n  onTouchStart4 (event) {\r\n    if (this.price4 !== -1) {\r\n      if (Global.currentMoney > this.price4) {\r\n        cc.audioEngine.play(this.choose, false, 1)\r\n        Global.luckys = 1\r\n        Global.currentMoney -= this.price4\r\n        this.lucky.destroy()\r\n        this.notice.string = 'GET LUCK!!'\r\n      } else {\r\n        cc.audioEngine.play(this.ding, false, 1)\r\n        this.notice.string = 'NEED MORE MONEY!!'\r\n      }\r\n    } else {\r\n      cc.audioEngine.play(this.ding, false, 1)\r\n      this.notice.string = 'SOLD OUT!!'\r\n    }\r\n  },\r\n  onTouchStart5 (event) {\r\n    if (this.price5 !== -1) {\r\n      cc.audioEngine.play(this.choose, false, 1)\r\n      if (Global.currentMoney > this.price5) {\r\n        Global.betterDiamonds = 1\r\n        Global.currentMoney -= this.price5\r\n        this.betterDiamond.destroy()\r\n        this.notice.string = 'GET BETTER DIAMOND!!'\r\n      } else {\r\n        cc.audioEngine.play(this.ding, false, 1)\r\n        this.notice.string = 'NEED MORE MONEY!!'\r\n      }\r\n    } else {\r\n      cc.audioEngine.play(this.ding, false, 1)\r\n      this.notice.string = 'SOLD OUT!!'\r\n    }\r\n  },\r\n  onTouchStart6 (event) {\r\n    cc.director.loadScene('loadlevel')\r\n  },\r\n\r\n  start () {\r\n    let num = Math.random()\r\n    if (num > 0.6) {\r\n      this.price1 = -1\r\n      this.stonebookLabel.string = 'SOLD OUT'\r\n    } else {\r\n      this.price1 = parseInt(Math.random() * (400 - 30 + 1) + 30)\r\n      this.stonebookLabel.string = '$' + this.price1\r\n    }\r\n\r\n    num = Math.random()\r\n    if (num > 0.6) {\r\n      this.price2 = -1\r\n      this.powerLabel.string = 'SOLD OUT'\r\n    } else {\r\n      this.price2 = parseInt(Math.random() * (400 - 200 + 1) + 200)\r\n      this.powerLabel.string = '$' + this.price2\r\n    }\r\n\r\n    num = Math.random()\r\n    if (num > 0.6) {\r\n      this.price3 = -1\r\n      this.fireLabel.string = 'SOLD OUT'\r\n    } else {\r\n      this.price3 = parseInt(Math.random() * (400 - 90 + 1) + 90)\r\n      this.fireLabel.string = '$' + this.price3\r\n    }\r\n\r\n    num = Math.random()\r\n    if (num > 0.6) {\r\n      this.price4 = -1\r\n      this.luckyLabel.string = 'SOLD OUT'\r\n    } else {\r\n      this.price4 = parseInt(Math.random() * (400 - 80 + 1) + 80)\r\n      this.luckyLabel.string = '$' + this.price4\r\n    }\r\n\r\n    num = Math.random()\r\n    if (num > 0.6) {\r\n      this.price5 = -1\r\n      this.betterDiamondLabel.string = 'SOLD OUT'\r\n    } else {\r\n      this.price5 = parseInt(Math.random() * (400 - 30 + 1) + 50)\r\n      this.betterDiamondLabel.string = '$' + this.price5\r\n    }\r\n\r\n    this.stonebook.on(cc.Node.EventType.TOUCH_START, this.onTouchStart1, this)\r\n    this.power.on(cc.Node.EventType.TOUCH_START, this.onTouchStart2, this)\r\n    this.fire.on(cc.Node.EventType.TOUCH_START, this.onTouchStart3, this)\r\n    this.lucky.on(cc.Node.EventType.TOUCH_START, this.onTouchStart4, this)\r\n    this.betterDiamond.on(cc.Node.EventType.TOUCH_START, this.onTouchStart5, this)\r\n    this.next.on(cc.Node.EventType.TOUCH_START, this.onTouchStart6, this)\r\n  },\r\n\r\n  update (dt) {\r\n    this.moneyLabel.string = 'MONEY: $' + Global.currentMoney\r\n  }\r\n})\r\n"]}