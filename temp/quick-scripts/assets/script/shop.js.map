{"version":3,"sources":["shop.js"],"names":["cc","Class","extends","Component","properties","stonebook","Node","power","fire","lucky","betterDiamond","next","stonebookLabel","Label","powerLabel","fireLabel","luckyLabel","betterDiamondLabel","moneyLabel","notice","choose","default","type","AudioClip","ding","onTouchStart1","event","price1","Global","currentMoney","audioEngine","play","stoneBooks","destroy","string","onTouchStart2","price2","powers","onTouchStart3","price3","fires","onTouchStart4","price4","luckys","onTouchStart5","price5","betterDiamonds","onTouchStart6","director","loadScene","start","num","Math","random","parseInt","on","EventType","TOUCH_START","update","dt"],"mappings":"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","file":"shop.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        stonebook: cc.Node,\n        power:  cc.Node,\n        fire: cc.Node,\n        lucky: cc.Node,\n        betterDiamond: cc.Node,\n        next: cc.Node,\n\n        stonebookLabel: cc.Label,\n        powerLabel:  cc.Label,\n        fireLabel: cc.Label,\n        luckyLabel: cc.Label,\n        betterDiamondLabel: cc.Label,\n        moneyLabel: cc.Label,\n        notice: cc.Label,\n        choose: {\n            default: null,\n            type: cc.AudioClip\n        },\n        ding: {\n            default: null,\n            type: cc.AudioClip\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n    onTouchStart1 (event) {\n        if(this.price1 != -1){\n            if(Global.currentMoney > this.price1){\n                cc.audioEngine.play(this.choose, false, 1);\n                Global.stoneBooks = 1;\n                Global.currentMoney -= this.price1;\n                this.stonebook.destroy();\n                this.notice.string = \"GET A STONEBOOK!!\";\n            }else{\n                cc.audioEngine.play(this.ding, false, 1);\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            cc.audioEngine.play(this.ding, false, 1);\n            this.notice.string = \"SOLD OUT!!\";\n        }\n    },\n    onTouchStart2 (event) {\n        if(this.price2 != -1){\n            if(Global.currentMoney > this.price2){\n                cc.audioEngine.play(this.choose, false, 1);\n                Global.powers = 1;\n                Global.currentMoney -= this.price2;\n                this.power.destroy();\n                this.notice.string = \"GET POWER!!\";\n            }else{\n                cc.audioEngine.play(this.ding, false, 1);\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            cc.audioEngine.play(this.ding, false, 1);\n            this.notice.string = \"SOLD OUT!!\";\n        }\n    },\n    onTouchStart3 (event) {\n        if(this.price3 != -1){\n            if(Global.currentMoney > this.price3){\n                cc.audioEngine.play(this.choose, false, 1);\n                Global.fires++;\n                Global.currentMoney -= this.price3;\n                this.fire.destroy();\n                this.notice.string = \"GET A BOBM!!\";\n            }else{\n                cc.audioEngine.play(this.ding, false, 1);\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            cc.audioEngine.play(this.ding, false, 1);\n            this.notice.string = \"SOLD OUT!!\";\n        } \n    },\n    onTouchStart4 (event) {\n        if(this.price4 != -1){\n            if(Global.currentMoney > this.price4){\n                cc.audioEngine.play(this.choose, false, 1);\n                Global.luckys = 1;\n                Global.currentMoney -= this.price4;\n                this.lucky.destroy();\n                this.notice.string = \"GET LUCK!!\";\n            }else{\n                cc.audioEngine.play(this.ding, false, 1);\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        } else{\n            cc.audioEngine.play(this.ding, false, 1);\n            this.notice.string = \"SOLD OUT!!\";\n        }     \n    },\n    onTouchStart5 (event) {\n        if(this.price5 != -1){\n            cc.audioEngine.play(this.choose, false, 1);\n            if(Global.currentMoney > this.price5){\n                Global.betterDiamonds = 1;\n                Global.currentMoney -= this.price5;\n                this.betterDiamond.destroy();\n                this.notice.string = \"GET BETTER DIAMOND!!\";\n            }else{\n                cc.audioEngine.play(this.ding, false, 1);\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        } else{\n            cc.audioEngine.play(this.ding, false, 1);\n            this.notice.string = \"SOLD OUT!!\";\n        }     \n    },\n    onTouchStart6 (event) {\n        cc.director.loadScene(\"loadlevel\");    \n    },\n\n    start () {\n        let num = Math.random();\n        if(num>0.6){\n            this.price1 = -1; \n            this.stonebookLabel.string = \"SOLD OUT\";\n        }else{\n            this.price1 = parseInt(Math.random()*(400-30+1) + 30); \n            this.stonebookLabel.string = \"$\" + this.price1;\n        }\n\n        num = Math.random();\n        if(num>0.6){\n            this.price2 = -1; \n            this.powerLabel.string = \"SOLD OUT\";\n        }else{\n            this.price2 = parseInt(Math.random()*(400-200+1) + 200); \n            this.powerLabel.string = \"$\" + this.price2;\n        }\n\n        num = Math.random();\n        if(num>0.6){\n            this.price3 = -1; \n            this.fireLabel.string = \"SOLD OUT\";\n        }else{\n            this.price3 = parseInt(Math.random()*(400-90+1) + 90); \n            this.fireLabel.string = \"$\" + this.price3;\n        }\n\n        num = Math.random();\n        if(num>0.6){\n            this.price4 = -1; \n            this.luckyLabel.string = \"SOLD OUT\";\n        }else{\n            this.price4 = parseInt(Math.random()*(400-80+1) + 80); \n            this.luckyLabel.string = \"$\" + this.price4;\n        }\n\n        num = Math.random();\n        if(num>0.6){\n            this.price5 = -1; \n            this.betterDiamondLabel.string = \"SOLD OUT\";\n        }else{\n            this.price5 = parseInt(Math.random()*(400-30+1) + 50); \n            this.betterDiamondLabel.string = \"$\" + this.price5;\n        }\n\n\n        this.stonebook.on(cc.Node.EventType.TOUCH_START, this.onTouchStart1, this);\n        this.power.on(cc.Node.EventType.TOUCH_START, this.onTouchStart2, this);\n        this.fire.on(cc.Node.EventType.TOUCH_START, this.onTouchStart3, this);\n        this.lucky.on(cc.Node.EventType.TOUCH_START, this.onTouchStart4, this);\n        this.betterDiamond.on(cc.Node.EventType.TOUCH_START, this.onTouchStart5, this);\n        this.next.on(cc.Node.EventType.TOUCH_START, this.onTouchStart6, this);\n    },\n\n    update (dt) {\n        this.moneyLabel.string = \"MONEY: $\"+Global.currentMoney;\n    },\n});\n"]}