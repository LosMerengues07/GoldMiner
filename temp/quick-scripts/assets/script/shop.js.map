{"version":3,"sources":["shop.js"],"names":["cc","Class","extends","Component","properties","stonebook","Node","power","fire","lucky","betterDiamond","next","stonebookLabel","Label","powerLabel","fireLabel","luckyLabel","betterDiamondLabel","moneyLabel","notice","onTouchStart1","event","price1","Global","currentMoney","stoneBooks","destroy","string","onTouchStart2","price2","powers","onTouchStart3","price3","fires","onTouchStart4","price4","luckys","onTouchStart5","price5","betterDiamonds","onTouchStart6","currentLevel","director","loadScene","start","stonebookNum","powerNum","fireNum","luckyNum","betterDiamondNum","parseInt","Math","random","on","EventType","TOUCH_START","update","dt"],"mappings":"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","file":"shop.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        stonebook: cc.Node,\n        power:  cc.Node,\n        fire: cc.Node,\n        lucky: cc.Node,\n        betterDiamond: cc.Node,\n        next: cc.Node,\n\n        stonebookLabel: cc.Label,\n        powerLabel:  cc.Label,\n        fireLabel: cc.Label,\n        luckyLabel: cc.Label,\n        betterDiamondLabel: cc.Label,\n        moneyLabel: cc.Label,\n        notice: cc.Label,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n    onTouchStart1 (event) {\n        if(this.price1 != -1){\n            if(Global.currentMoney > this.price1){\n                Global.stoneBooks = 1;\n                Global.currentMoney -= this.price1;\n                this.stonebook.destroy();\n                this.notice.string = \"GOOD JOB!!\";\n            }else{\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            this.notice.string = \"SOLD OUT!!\";\n        }\n    },\n    onTouchStart2 (event) {\n        if(this.price2 != -1){\n            if(Global.currentMoney > this.price2){\n                Global.powers = 1;\n                Global.currentMoney -= this.price2;\n                this.power.destroy();\n                this.notice.string = \"GOOD JOB!!\";\n            }else{\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            this.notice.string = \"SOLD OUT!!\";\n        }\n    },\n    onTouchStart3 (event) {\n        if(this.price3 != -1){\n            if(Global.currentMoney > this.price3){\n                Global.fires++;\n                Global.currentMoney -= this.price3;\n                this.fire.destroy();\n                this.notice.string = \"GOOD JOB!!\";\n            }else{\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        }else{\n            this.notice.string = \"SOLD OUT!!\";\n        } \n    },\n    onTouchStart4 (event) {\n        if(this.price4 != -1){\n            if(Global.currentMoney > this.price4){\n                Global.luckys = 1;\n                Global.currentMoney -= this.price4;\n                this.lucky.destroy();\n                this.notice.string = \"GOOD JOB!!\";\n            }else{\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        } else{\n            this.notice.string = \"SOLD OUT!!\";\n        }     \n    },\n    onTouchStart5 (event) {\n        if(this.price5 != -1){\n            if(Global.currentMoney > this.price5){\n                Global.betterDiamonds = 1;\n                Global.currentMoney -= this.price5;\n                this.betterDiamond.destroy();\n                this.notice.string = \"GOOD JOB!!\";\n            }else{\n                this.notice.string = \"NEED MORE MONEY!!\";\n            }\n        } else{\n            this.notice.string = \"SOLD OUT!!\";\n        }     \n    },\n    onTouchStart6 (event) {\n        Global.currentLevel++;\n        cc.director.loadScene(\"loadlevel\");    \n    },\n\n    start () {\n        this.stonebookNum = Global.stoneBooks;\n        this.powerNum = Global.powers;\n        this.fireNum = Global.fires;\n        this.luckyNum = Global.luckys;\n        this.betterDiamondNum = Global.betterDiamonds;\n\n        if(this.stonebookNum>0){\n            this.price1 = -1; \n            this.stonebookLabel.string = \"SOLD OUT\";\n        }else{\n            this.price1 = parseInt(Math.random()*(400-30+1) + 30); \n            this.stonebookLabel.string = \"$\" + this.price1;\n        }\n\n        if(this.powerNum>0){\n            this.price2 = -1; \n            this.powerLabel.string = \"SOLD OUT\";\n        }else{\n            this.price2 = parseInt(Math.random()*(400-30+1) + 30); \n            this.powerLabel.string = \"$\" + this.price2;\n        }\n\n        if(this.luckyNum>0){\n            this.price4 = -1; \n            this.luckyLabel.string = \"SOLD OUT\";\n        }else{\n            this.price4 = parseInt(Math.random()*(400-30+1) + 30); \n            this.luckyLabel.string = \"$\" + this.price4;\n        }\n\n        if(this.betterDiamondNum>0){\n            this.price5 = -1; \n            this.betterDiamondLabel.string = \"SOLD OUT\";\n        }else{\n            this.price5 = parseInt(Math.random()*(400-30+1) + 30); \n            this.betterDiamondLabel.string = \"$\" + this.price5;\n        }\n        this.price3 = parseInt(Math.random()*(400-30+1) + 30); \n        this.fireLabel.string = \"$\" + this.price3;\n\n        this.stonebook.on(cc.Node.EventType.TOUCH_START, this.onTouchStart1, this);\n        this.power.on(cc.Node.EventType.TOUCH_START, this.onTouchStart2, this);\n        this.fire.on(cc.Node.EventType.TOUCH_START, this.onTouchStart3, this);\n        this.lucky.on(cc.Node.EventType.TOUCH_START, this.onTouchStart4, this);\n        this.betterDiamond.on(cc.Node.EventType.TOUCH_START, this.onTouchStart5, this);\n        this.next.on(cc.Node.EventType.TOUCH_START, this.onTouchStart6, this);\n    },\n\n    update (dt) {\n        this.moneyLabel.string = \"MONEY: $\"+Global.currentMoney;\n    },\n});\n"]}