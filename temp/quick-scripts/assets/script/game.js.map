{"version":3,"sources":["game.js"],"names":["cc","Class","extends","Component","properties","draw","Graphics","player1","Node","base","hook","moneyLabel1","Label","add1","money1","target","countDown","broadcostTimes","onLoad","director","getCollisionManager","enabledDebugDraw","enabled","start","Global","currentMoney","schedule","doCountdownTime","console","log","levelTarget","string","update","dt","clear","startPos","convertToWorldSpaceAR","v2","endPos","lineWidth","moveTo","x","y","lineTo","stroke"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAML,GAAGM,QADD;AAERC,iBAASP,GAAGQ,IAFJ;AAGRC,cAAMT,GAAGQ,IAHD;AAIRE,cAAMV,GAAGQ,IAJD;AAKRG,qBAAaX,GAAGY,KALR;AAMRC,cAAMb,GAAGY,KAND;AAORE,gBAAQ,CAPA;AAQRC,gBAAQ,CARA;AASRC,mBAAWhB,GAAGY,KATN;AAURK,wBAAgB;AAVR,KAHP;;AAgBL;;AAEAC,UAlBK,oBAkBK;AACNlB,WAAGmB,QAAH,CAAYC,mBAAZ,GAAkCC,gBAAlC,GAAqD,KAArD;AACArB,WAAGmB,QAAH,CAAYC,mBAAZ,GAAkCE,OAAlC,GAA0C,IAA1C;AACA;AAEH,KAvBI;AAyBLC,SAzBK,mBAyBI;AACL,aAAKT,MAAL,GAAcU,OAAOC,YAArB;AACA,aAAKC,QAAL,CAAc,KAAKC,eAAnB,EAAmC,CAAnC;AACAC,gBAAQC,GAAR,CAAYL,OAAOM,WAAnB;AACH,KA7BI;;;AA+BL;AACAH,mBAhCK,6BAgCY;AACjB,YAAI,KAAKV,cAAL,IAAuB,CAA3B,EAA+B;AAC3B,iBAAKD,SAAL,CAAee,MAAf,GAAwB,MAAI,KAAKd,cAAT,GAAwB,GAAhD;AACA,iBAAKA,cAAL,IAAuB,CAAvB;AACA,gBAAG,KAAKA,cAAL,IAAuB,CAA1B,EAA4B;AACxB,oBAAG,KAAKH,MAAL,IAAa,KAAKC,MAArB,EAA4B;AACxBa,4BAAQC,GAAR,CAAY,sBAAZ;AACH,iBAFD,MAEK;AACDD,4BAAQC,GAAR,CAAY,sBAAZ;AACH;AACJ;AACJ;AACJ,KA5CQ;AA8CLG,UA9CK,kBA8CGC,EA9CH,EA8CO;AACR,aAAK5B,IAAL,CAAU6B,KAAV;AACA,YAAIC,WAAW,KAAK1B,IAAL,CAAU2B,qBAAV,CAAgCpC,GAAGqC,EAAH,CAAM,CAAN,EAAS,CAAT,CAAhC,CAAf;AACA,YAAIC,SAAS,KAAK5B,IAAL,CAAU0B,qBAAV,CAAgCpC,GAAGqC,EAAH,CAAM,CAAC,GAAP,EAAY,CAAC,IAAb,CAAhC,CAAb;AACA,aAAKhC,IAAL,CAAUkC,SAAV,GAAsB,GAAtB;AACA,aAAKlC,IAAL,CAAUmC,MAAV,CAAiBL,SAASM,CAA1B,EAA4BN,SAASO,CAArC;AACA,aAAKrC,IAAL,CAAUsC,MAAV,CAAiBL,OAAOG,CAAxB,EAA2BH,OAAOI,CAAlC;AACA,aAAKrC,IAAL,CAAUuC,MAAV;;AAEA,aAAKjC,WAAL,CAAiBoB,MAAjB,GAA0B,OAAO,KAAKjB,MAAtC;AACH;AAxDI,CAAT","file":"game.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        draw: cc.Graphics,\n        player1: cc.Node,\n        base: cc.Node,\n        hook: cc.Node,\n        moneyLabel1: cc.Label,\n        add1: cc.Label,\n        money1: 0,\n        target: 0,\n        countDown: cc.Label,\n        broadcostTimes: 10,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.director.getCollisionManager().enabledDebugDraw = false;\n        cc.director.getCollisionManager().enabled=true;\n        //this.schedule(this.doCountdownTime,1);\n\n    },\n\n    start () {\n        this.money1 = Global.currentMoney; \n        this.schedule(this.doCountdownTime,1);\n        console.log(Global.levelTarget);\n    },\n\n    //倒计时\n    doCountdownTime(){\n    if (this.broadcostTimes >= 0 ) {\n        this.countDown.string = \"-\"+this.broadcostTimes+\"s\";\n        this.broadcostTimes -= 1;\n        if(this.broadcostTimes == 0){\n            if(this.money1>=this.target){\n                console.log(\"You win! Next Level!\");\n            }else{\n                console.log(\"You lose! Game Over!\");\n            }\n        }\n    }\n},\n\n    update (dt) {\n        this.draw.clear();\n        let startPos = this.base.convertToWorldSpaceAR(cc.v2(0, 1));\n        let endPos = this.hook.convertToWorldSpaceAR(cc.v2(-0.1, -25.3));\n        this.draw.lineWidth = 4.5;\n        this.draw.moveTo(startPos.x,startPos.y);\n        this.draw.lineTo(endPos.x, endPos.y);\n        this.draw.stroke();\n        \n        this.moneyLabel1.string = \"$ \" + this.money1;\n    },\n});\n"]}