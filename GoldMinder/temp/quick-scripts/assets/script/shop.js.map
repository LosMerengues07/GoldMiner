{"version":3,"sources":["shop.js"],"names":["cc","Class","extends","Component","properties","stonebook","Node","power","fire","lucky","betterDiamond","next","stonebookLabel","Label","powerLabel","fireLabel","luckyLabel","betterDiamondLabel","moneyLabel","notice","choose","default","type","AudioClip","ding","onTouchStart1","event","price1","Global","currentMoney","sound","audioEngine","play","stoneBooks","destroy","string","onTouchStart2","price2","powers","onTouchStart3","price3","fires","onTouchStart4","price4","luckys","onTouchStart5","price5","betterDiamonds","onTouchStart6","director","loadScene","start","num","Math","random","parseInt","on","EventType","TOUCH_START","update","dt"],"mappings":"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","file":"shop.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    stonebook: cc.Node,\n    power: cc.Node,\n    fire: cc.Node,\n    lucky: cc.Node,\n    betterDiamond: cc.Node,\n    next: cc.Node,\n\n    stonebookLabel: cc.Label,\n    powerLabel: cc.Label,\n    fireLabel: cc.Label,\n    luckyLabel: cc.Label,\n    betterDiamondLabel: cc.Label,\n    moneyLabel: cc.Label,\n    notice: cc.Label,\n    choose: {\n      default: null,\n      type: cc.AudioClip\n    },\n    ding: {\n      default: null,\n      type: cc.AudioClip\n    }\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  // onLoad () {},\n  onTouchStart1 (event) {\n    if (this.price1 !== -1) {\n      if (Global.currentMoney > this.price1) {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.choose, false, 1)\n        }\n        Global.stoneBooks = 1\n        Global.currentMoney -= this.price1\n        this.stonebook.destroy()\n        this.notice.string = 'GET A STONEBOOK!!'\n      } else {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.ding, false, 1)\n        }\n        this.notice.string = 'NEED MORE MONEY!!'\n      }\n    } else {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.ding, false, 1)\n      }\n      this.notice.string = 'SOLD OUT!!'\n    }\n  },\n  onTouchStart2 (event) {\n    if (this.price2 !== -1) {\n      if (Global.currentMoney > this.price2) {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.choose, false, 1)\n        }\n        Global.powers = 1\n        Global.currentMoney -= this.price2\n        this.power.destroy()\n        this.notice.string = 'GET POWER!!'\n      } else {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.ding, false, 1)\n        }\n        this.notice.string = 'NEED MORE MONEY!!'\n      }\n    } else {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.ding, false, 1)\n      }\n      this.notice.string = 'SOLD OUT!!'\n    }\n  },\n  onTouchStart3 (event) {\n    if (this.price3 !== -1) {\n      if (Global.currentMoney > this.price3) {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.choose, false, 1)\n        }\n        Global.fires++\n        Global.currentMoney -= this.price3\n        this.fire.destroy()\n        this.notice.string = 'GET A BOBM!!'\n      } else {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.ding, false, 1)\n        }\n        this.notice.string = 'NEED MORE MONEY!!'\n      }\n    } else {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.ding, false, 1)\n      }\n      this.notice.string = 'SOLD OUT!!'\n    }\n  },\n  onTouchStart4 (event) {\n    if (this.price4 !== -1) {\n      if (Global.currentMoney > this.price4) {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.choose, false, 1)\n        }\n        Global.luckys = 1\n        Global.currentMoney -= this.price4\n        this.lucky.destroy()\n        this.notice.string = 'GET LUCK!!'\n      } else {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.ding, false, 1)\n        }\n        this.notice.string = 'NEED MORE MONEY!!'\n      }\n    } else {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.ding, false, 1)\n      }\n      this.notice.string = 'SOLD OUT!!'\n    }\n  },\n  onTouchStart5 (event) {\n    if (this.price5 !== -1) {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.choose, false, 1)\n      }\n      if (Global.currentMoney > this.price5) {\n        Global.betterDiamonds = 1\n        Global.currentMoney -= this.price5\n        this.betterDiamond.destroy()\n        this.notice.string = 'GET BETTER DIAMOND!!'\n      } else {\n        if(Global.sound === 1){\n          cc.audioEngine.play(this.ding, false, 1)\n        }\n        this.notice.string = 'NEED MORE MONEY!!'\n      }\n    } else {\n      if(Global.sound === 1){\n        cc.audioEngine.play(this.ding, false, 1)\n      }\n      this.notice.string = 'SOLD OUT!!'\n    }\n  },\n  onTouchStart6 (event) {\n    cc.director.loadScene('loadlevel')\n  },\n\n  start () {\n    let num = Math.random()\n    if (num > 0.6) {\n      this.price1 = -1\n      this.stonebookLabel.string = 'SOLD OUT'\n    } else {\n      this.price1 = parseInt(Math.random() * (400 - 30 + 1) + 30)\n      this.stonebookLabel.string = '$' + this.price1\n    }\n\n    num = Math.random()\n    if (num > 0.6) {\n      this.price2 = -1\n      this.powerLabel.string = 'SOLD OUT'\n    } else {\n      this.price2 = parseInt(Math.random() * (400 - 200 + 1) + 200)\n      this.powerLabel.string = '$' + this.price2\n    }\n\n    num = Math.random()\n    if (num > 0.6) {\n      this.price3 = -1\n      this.fireLabel.string = 'SOLD OUT'\n    } else {\n      this.price3 = parseInt(Math.random() * (400 - 90 + 1) + 90)\n      this.fireLabel.string = '$' + this.price3\n    }\n\n    num = Math.random()\n    if (num > 0.6) {\n      this.price4 = -1\n      this.luckyLabel.string = 'SOLD OUT'\n    } else {\n      this.price4 = parseInt(Math.random() * (400 - 80 + 1) + 80)\n      this.luckyLabel.string = '$' + this.price4\n    }\n\n    num = Math.random()\n    if (num > 0.6) {\n      this.price5 = -1\n      this.betterDiamondLabel.string = 'SOLD OUT'\n    } else {\n      this.price5 = parseInt(Math.random() * (400 - 30 + 1) + 50)\n      this.betterDiamondLabel.string = '$' + this.price5\n    }\n\n    this.stonebook.on(cc.Node.EventType.TOUCH_START, this.onTouchStart1, this)\n    this.power.on(cc.Node.EventType.TOUCH_START, this.onTouchStart2, this)\n    this.fire.on(cc.Node.EventType.TOUCH_START, this.onTouchStart3, this)\n    this.lucky.on(cc.Node.EventType.TOUCH_START, this.onTouchStart4, this)\n    this.betterDiamond.on(cc.Node.EventType.TOUCH_START, this.onTouchStart5, this)\n    this.next.on(cc.Node.EventType.TOUCH_START, this.onTouchStart6, this)\n  },\n\n  update (dt) {\n    this.moneyLabel.string = 'MONEY: $' + Global.currentMoney\n  }\n})\n"]}