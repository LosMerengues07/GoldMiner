{"version":3,"sources":["pig.js"],"names":["cc","Class","extends","Component","properties","speed","value","hooked","theta","moveSpeed","toRight","onCollisionEnter","other","self","node","group","getComponent","occupied","hook","down","getRotation","Math","PI","x","height","sin","y","cos","item","animationComponent","stop","play","start","canvas","find","Animation","num","random","update","dt","add1","string","money1","destroy"],"mappings":"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","file":"pig.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    speed: 0,\n    value: 0,\n    hooked: false,\n    theta: 0,\n    moveSpeed: 3,\n    toRight: true\n  },\n  onCollisionEnter: function (other, self) { // 碰撞则播放爆炸动画\n    if (other.node.group === 'hook' && !other.node.getComponent('hook').occupied) {\n      this.hook = other.node.getComponent('hook')\n      this.hook.moveSpeed = this.speed\n      this.hook.down = false\n      this.theta = other.node.getRotation() * (Math.PI / 180)\n      this.node.x = other.node.x - (40 + this.node.height / 2) * Math.sin(this.theta)\n      this.node.y = other.node.y - (40 + this.node.height / 2) * Math.cos(this.theta)\n      this.hooked = true\n      this.hook.occupied = true\n      this.hook.item = this.node\n    } else if (other.node.group === 'items') {\n      if (!this.hooked) {\n        if (this.toRight) {\n          this.toRight = false\n          this.animationComponent.stop('pigRunR')\n          this.animationComponent.play('pigRun')\n        } else {\n          this.toRight = true\n          this.animationComponent.stop('pigRun')\n          this.animationComponent.play('pigRunR')\n        }\n      }\n    }\n  },\n  // LIFE-CYCLE CALLBACKS:\n\n  // onLoad () {},\n\n  start () {\n    this.canvas = cc.find('Canvas').getComponent('game')\n    this.animationComponent = this.getComponent(cc.Animation)\n\n    var num = Math.random()\n    if (num > 0.5) {\n      this.toRight = true\n      this.animationComponent.play('pigRunR')\n    } else {\n      this.toRight = false\n      this.animationComponent.play('pigRun')\n    }\n  },\n  update (dt) {\n    if (!this.hooked) {\n      if (this.toRight) {\n        this.node.x += this.moveSpeed\n        if (this.node.x > 440) {\n          this.toRight = false\n          this.animationComponent.stop('pigRunR')\n          this.animationComponent.play('pigRun')\n        }\n      } else {\n        this.node.x -= this.moveSpeed\n        if (this.node.x < -440) {\n          this.toRight = true\n          this.animationComponent.stop('pigRun')\n          this.animationComponent.play('pigRunR')\n        }\n      }\n    } else {\n      if (this.hook.occupied) {\n        this.node.x += this.speed * Math.sin(this.theta)\n        this.node.y += this.speed * Math.cos(this.theta)\n      } else {\n        this.canvas.add1.string = '+' + this.value\n        this.canvas.add1.getComponent('label').play = true\n        this.canvas.money1 += this.value\n        this.node.destroy()\n      }\n    }\n  }\n  // update (dt) {},\n})\n"]}